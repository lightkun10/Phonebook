{"version":3,"sources":["components/Header.js","components/Filter.js","components/Form.js","components/Person.js","components/Result.js","components/Notification.js","services/numbers.js","App.js","index.js"],"names":["Header","text","className","Filter","searchTerm","handleFilterChange","value","onChange","Form","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","deletePerson","key","onClick","Result","filtered","map","person","id","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","delete","updatePerson","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","messageType","setMessageType","useEffect","numberService","initialNotes","console","log","catch","error","alert","filter","toLowerCase","includes","event","target","preventDefault","find","newPerson","window","confirm","returnedPerson","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f245af8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = ({text}) => (\r\n  <div className=\"header-section\">\r\n    <h1>{text}</h1>\r\n  </div>\r\n)\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Filter = ({ searchTerm, handleFilterChange }) => (\r\n  <div className=\"filter-section\">\r\n        Filter shown with <input value={searchTerm} onChange={handleFilterChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Form = ({ \r\n  addPerson, \r\n  newName, \r\n  handlePersonChange, \r\n  newNumber, \r\n  handleNumberChange \r\n}) => (\r\n  <div className=\"form-section\">\r\n    <h2>add a new</h2>\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handlePersonChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n)\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Person = ({ name, number, deletePerson, }) => (\r\n    <div key={name}>\r\n      {name} {number} \r\n      <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Result = ({ filtered, deletePerson }) => {\r\n  return (\r\n    <div className=\"result-section\">\r\n      <h2>Numbers</h2>\r\n        {filtered.map((person) =>\r\n          <Person\r\n            key={person.name}\r\n            name={person.name} \r\n            number={person.number}\r\n            deletePerson={() => deletePerson((person.id))} />\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Result;","import React from 'react';\r\n\r\nexport default Notification = ({ message, type }) => {\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n  }\r\n\r\n  const failedStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n  }\r\n\r\n  if (message === null) return null;\r\n\r\n  if (type === 'success') {\r\n    return (\r\n      <div style={successStyle} className=\"success-add\">\r\n        {message}\r\n      </div>\r\n    )\r\n  } else if (type === 'failed__delete') {\r\n    return (\r\n      <div style={failedStyle} className=\"failed-delete\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}","import axios from 'axios';\r\n// const baseUrl = 'http://localhost:3001/api/persons';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n}\r\n\r\nconst deleteNumber = (id) => axios.delete(`${baseUrl}/${id}`);\r\n\r\nconst update = (updatePerson) => {  \r\n  const request = axios.put(`${baseUrl}/${updatePerson.id}`, updatePerson);\r\n  return request.then((response) => response.data);\r\n}\r\n\r\nexport default { getAll, create, deleteNumber, update, };","import React, { useState, useEffect } from 'react'\nimport Header from './components/Header';\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Result from './components/Result';\nimport Notification from './components/Notification';\nimport numberService from './services/numbers';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  \n  // Control the form input element\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(null);\n\n  useEffect(() => {\n    const eventHandler = (initialNotes) => {\n      console.log('promise fulfilled');\n      setPersons(initialNotes);\n    }\n\n    const errorHandler = (error) => {\n      console.log('Promise rejected');\n      alert(error);\n    }\n\n    numberService.getAll()\n      .then(eventHandler)\n      .catch(errorHandler);\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const person = persons.find((person) => person.name === newName);\n    const newPerson = { \n      name: newName,\n      number: newNumber, \n    };\n\n    // If the same name already exist,\n    if (person) {\n      // If the number are different, ask if user want to change\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const updatePerson = { ...person, number: newNumber };\n        numberService.update(updatePerson)\n          .then((returnedPerson) => {\n            // console.log(returnedPerson);\n            setPersons(persons.map((person) => person.id !== returnedPerson.id ? person : returnedPerson));\n          })\n          .catch((error) => {\n            console.log('An error occured\\n', error)\n            setMessageType('failed__delete');\n            setMessage(`Information of ${updatePerson.name} has already been removed from server`);\n            setTimeout(() => {\n              setMessage(null);\n              setMessageType(null);\n            }, 4000)\n          });\n        setNewName('');\n        setNewNumber('');\n      }\n    } else {\n      numberService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          // If promise for adding person fulfilled, \n          // show the success message.\n          setMessageType('success');\n          setMessage(`Added ${returnedPerson.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 4000);\n\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          console.log('Promise rejected');\n          alert(error);\n        });\n    }\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      console.log(`deleting ${person.name}...`);\n\n      numberService.deleteNumber(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => console.log('An error occured', error));\n    }\n  }\n\n  // Filter for person names\n  const filtered = !searchTerm \n    ? persons \n    : persons.filter((person) => person.name.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    setSearchTerm(event.target.value);\n  }\n\n  return (\n    <div>\n      <Header text='Phonebook' />\n\n      <Notification message={message} type={messageType} />\n\n      <Filter searchTerm={searchTerm} handleFilterChange={handleFilterChange} />\n\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <Result filtered={filtered} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}