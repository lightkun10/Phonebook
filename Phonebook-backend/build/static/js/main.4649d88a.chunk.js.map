{"version":3,"sources":["components/Header.js","components/Filter.js","components/Form.js","components/Person.js","components/Result.js","components/Notification.js","services/numbers.js","App.js","index.js"],"names":["Header","text","className","Filter","searchTerm","handleFilterChange","value","onChange","Form","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","deletePerson","key","onClick","Result","filtered","map","person","id","Notification","message","failedStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","delete","updatePerson","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","messageType","setMessageType","useEffect","numberService","initialNotes","console","log","catch","error","alert","filter","toLowerCase","includes","event","target","preventDefault","find","p","newPerson","window","confirm","returnedPerson","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4649d88a.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Header = ({ text }) => (\n  <div className=\"header-section\">\n    <h1>{text}</h1>\n  </div>\n);\n\nexport default Header;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Filter = ({ searchTerm, handleFilterChange }) => (\n  <div className=\"filter-section\">\n    Filter shown with\n    <input value={searchTerm} onChange={handleFilterChange} />\n  </div>\n);\n\nexport default Filter;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Form = ({\n  addPerson,\n  newName,\n  handlePersonChange,\n  newNumber,\n  handleNumberChange,\n}) => (\n  <div className=\"form-section\">\n    <h2>add a new</h2>\n    <form onSubmit={addPerson}>\n      <div>\n        name:\n        <input value={newName} onChange={handlePersonChange} />\n      </div>\n      <div>\n        number:\n        <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n);\n\nexport default Form;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Person = ({ name, number, deletePerson }) => (\n  <div key={name}>\n    {name} {number}\n    <button type=\"button\" onClick={deletePerson}>delete</button>\n  </div>\n);\n\nexport default Person;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport Person from './Person';\n\nconst Result = ({ filtered, deletePerson }) => (\n  <div className=\"result-section\">\n    <h2>Numbers</h2>\n    {filtered.map((person) => (\n      <Person\n        key={person.name}\n        name={person.name}\n        number={person.number}\n        deletePerson={() => deletePerson((person.id))}\n      />\n    ))}\n  </div>\n);\n\nexport default Result;\n","/* eslint-disable consistent-return */\n/* eslint-disable no-global-assign */\nimport React from 'react';\n\nexport default Notification = ({ message, type }) => {\n  const successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  };\n\n  const failedStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  };\n\n  if (message === null) return null;\n\n  if (type === 'success') {\n    return (\n      <div style={successStyle} className=\"success-add\">\n        {message}\n      </div>\n    );\n  } if (type === 'failed__delete') {\n    return (\n      <div style={failedStyle} className=\"failed-delete\">\n        {message}\n      </div>\n    );\n  } if (type === 'failed__add') {\n    return (\n      <div style={failedStyle} className=\"failed-add\">\n        {message}\n      </div>\n    );\n  }\n};\n","import axios from 'axios';\n// const baseUrl = 'http://localhost:3001/api/persons';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteNumber = (id) => axios.delete(`${baseUrl}/${id}`);\n\nconst update = (updatePerson) => {\n  const request = axios.put(`${baseUrl}/${updatePerson.id}`, updatePerson);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll, create, deleteNumber, update,\n};\n","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header';\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Result from './components/Result';\nimport Notification from './components/Notification';\nimport numberService from './services/numbers';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  // Control the form input element\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(null);\n\n  useEffect(() => {\n    const eventHandler = (initialNotes) => {\n      console.log('promise fulfilled');\n      setPersons(initialNotes);\n    };\n\n    const errorHandler = (error) => {\n      console.log('Promise rejected');\n      alert(error);\n    };\n\n    numberService.getAll()\n      .then(eventHandler)\n      .catch(errorHandler);\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const person = persons.find((p) => p.name === newName);\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    // If the same name already exist,\n    if (person) {\n      // If the number are different, ask if user want to change\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const updatePerson = { ...person, number: newNumber };\n        numberService.update(updatePerson)\n          .then((returnedPerson) => {\n            // console.log(returnedPerson);\n            setPersons(persons.map((p) => (p.id !== returnedPerson.id\n              ? p\n              : returnedPerson)));\n          })\n          .catch((error) => {\n            console.log('An error occured\\n', error);\n            setMessageType('failed__delete');\n            setMessage(`Information of ${updatePerson.name} has already been removed from server`);\n            setTimeout(() => {\n              setMessage(null);\n              setMessageType(null);\n            }, 4000);\n          });\n        setNewName('');\n        setNewNumber('');\n      }\n    } else {\n      numberService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setMessageType('success');\n          setMessage(`Added ${returnedPerson.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 4000);\n\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          setMessageType('failed__add');\n          setMessage(`${error.response.data.error}`);\n          setTimeout(() => {\n            setMessage(null);\n            setMessageType(null);\n          }, 4000);\n        });\n    }\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      console.log(`deleting ${person.name}...`);\n\n      numberService.deleteNumber(id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n        })\n        .catch((error) => console.log('An error occured', error));\n    }\n  };\n\n  // Filter for person names\n  const filtered = !searchTerm\n    ? persons\n    : persons.filter((person) => person.name.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  return (\n    <div>\n      <Header text=\"Phonebook\" />\n\n      <Notification message={message} type={messageType} />\n\n      <Filter searchTerm={searchTerm} handleFilterChange={handleFilterChange} />\n\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <Result filtered={filtered} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}